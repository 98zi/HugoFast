"use strict";(self["webpackChunkvue_admin_hugo"]=self["webpackChunkvue_admin_hugo"]||[]).push([[647],{4647:function(t,e,s){s.r(e),s.d(e,{default:function(){return h}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"layout"},[e("Aside"),e("div",{staticClass:"container edit"},[e("TopHeader"),e("div",{staticClass:"editwrap"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:8}},[t._v("时间："),e("el-input",{model:{value:t.result3.date,callback:function(e){t.$set(t.result3,"date",e)},expression:"result3.date"}})],1),e("el-col",{attrs:{span:8}},[t._v("分类："),e("el-input",{model:{value:t.result4.category,callback:function(e){t.$set(t.result4,"category",e)},expression:"result4.category"}})],1),e("el-col",{attrs:{span:8}},[t._v("slug："),e("el-input",{attrs:{disabled:""},model:{value:t.result1.slug1,callback:function(e){t.$set(t.result1,"slug1",e)},expression:"result1.slug1"}})],1)],1),e("el-row",[e("el-col",{attrs:{span:24}},[t._v("标题："),e("el-input",{model:{value:t.result2.title,callback:function(e){t.$set(t.result2,"title",e)},expression:"result2.title"}})],1)],1),e("el-row",[e("el-col",{attrs:{span:24}},[[e("el-input",{staticClass:"content",attrs:{type:"textarea"},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})]],2)],1),e("el-row",[e("el-col",{attrs:{span:24}},[e("el-button",{attrs:{type:"primary"}},[t._v("发布文章")]),e("el-tag",{attrs:{type:"danger"}},[t._v("暂未对接发布api，提交无效。")])],1)],1)],1)],1)],1)},n=[],l=s(4025),r=s(5180),i=s(6154),o={name:"EditView",components:{Aside:l.Z,TopHeader:r.Z},data(){return{id:"",text:"",pattern1:/slug:\s*(.*?)\n/,result1:{slug:""},pattern2:/title:\s*(.*?)\n/,result2:{ttile:""},pattern3:/date:\s*(.*?)\n/,result3:{date:""},pattern4:/categories:\s*(.*?)\n/,result4:{category:""},pattern5:/tags:\s*(.*?)\n---/,result5:{tags:""},pattern:/^---\n([\s\S]+?)\n---/,content:null}},methods:{findMatches(){i.Z.get("https://raw.githubusercontent.com/lovezsh/hugo-blog/main/content/blog/"+this.id).then((t=>{this.text=t.data,this.extractMetadata()})).catch((t=>{console.error(t)}))},extractMetadata(){const t=this.text.match(this.pattern1);if(t){const e=t[1].trim();this.result1={slug1:e}}const e=this.text.match(this.pattern2);if(e){const t=e[1].trim();this.result2={title:t}}const s=this.text.match(this.pattern3);if(s){const t=s[1].trim();this.result3={date:t}}const a=this.text.match(this.pattern4);if(s){const t=a[1].trim();this.result4={category:t}}const n=this.text.match(this.pattern);n&&(this.content=this.text.replace(n[0],"").trim())}},computed:{},mounted(){const t=this.$route.query.name;this.id=t,this.findMatches()}},c=o,u=s(1001),p=(0,u.Z)(c,a,n,!1,null,null,null),h=p.exports}}]);
//# sourceMappingURL=647.c51f6909.js.map